/* Class: ish; By: Nick Campbell; License: MIT; Keep this line or you violate the copyright! */
!function(){"use strict";var t,e,n,r,i,o,s,a=window,u=document,c=u.head,l=null,p=u.currentScript,f=Object.prototype.toString,y=u.querySelector.bind(u),d=Date.now,h={ver:"0.10.2018-05-12",options:{target:"ish",plugins:{}},expectedErrorHandler:function(){}},m=function(){return{data:{},options:{},ui:{}}},g={};function b(){}g.type=function(){function e(t,e){var n,r,i;if(e=g.type.arr.mk(e,g.type.options.typeOrder),g.type.arr.is(e,!0))for(r=0;r<e.length;r++)if((n=(g.type[e[r]]||{}).is||g.type.fn.mk(e[r]))(t)){i=n;break}return i}var n,r;return e.options={typeOrder:["bool","int","float","date","json","str","fn","dom","arr","list","obj","symbol"]},e.is=function(t,e){try{return t instanceof e}catch(t){return!1}},e.bool={is:function(t){return"[object Boolean]"===f.call(t)},mk:function(t){return!!t}},e.int={is:function(t){var e=g.type.float.mk(t);return g.type.num.is(t)&&e%1==0},mk:function(t,e){var n=parseInt(t,10);return isNaN(n)?arguments.length>1?e:0:n}},e.float={is:function(t){var e=g.type.float.mk(t);return g.type.num.is(t)&&e%1!=0},mk:function(t,e){var n=parseFloat(t,10);return isNaN(n)?arguments.length>1?e:0:n}},e.num={is:function(t){return/^[-0-9]?[0-9]*(\.[0-9]{1,})?$/.test(t)&&!isNaN(parseFloat(t,10))&&isFinite(t)}},e.date={is:function(t){var e=new Date(t);return t&&"[object Date]"===f.call(e)&&!isNaN(e.valueOf())},mk:function(t,e){return g.type.date.is(t)?new Date(t):arguments.length>1?new Date(e):new Date}},e.selector={is:(n=document.createElement("br"),function(t){var e=!1;try{n.querySelector(t),e=!0}catch(t){h.expectedErrorHandler(t)}return e})},e.json={is:function(t){try{return JSON.parse(t),!0}catch(t){return!1}},mk:function(t,e){var n=arguments.length>1?e:{};if(g.type.str.is(t,!0))try{n=JSON.parse(t)}catch(t){h.expectedErrorHandler(t)}else if(g.type.obj.is(t))try{n=JSON.stringify(t)}catch(t){h.expectedErrorHandler(t)}return n}},e.str={is:function(t,e,n){return!(!("string"==typeof t||t instanceof String)||e&&""===t||n&&""===g.type.str.mk(t).trim())},mk:function(t,e){var n=t+"";return t&&n?n:arguments.length>1?e:""}},e.fn={is:function(t){return"[object Function]"===f.call(t)},mk:function(e,n){var r,i=g.resolve||function(t,e){return t[e]},o=arguments.length>1?n:b;return g.type.fn.is(e)?o=e:(r=g.type.str.is(e)||g.type.arr.is(e)?i(a,e):t,g.type.fn.is(r)&&(o=r)),o}},e.dom={is:function(t,e){return(t=e&&g.type.str.is(t,!0)?y(t)||u.getElementById(t):t)&&g.type.str.is(t.tagName)&&""!==t.tagName&&g.type.fn.is(t.getAttribute)},mk:function(t,e){var n=u.createElement("div"),r=arguments.length>1?e:n;return g.type.str.is(t,!0)?g.type.selector.is(t)?r=y(t)||u.getElementById(t)||r:(n.innerHTML=t,n.childNodes.length<=2&&3!==n.childNodes[0].nodeType?r=n.childNodes[0]:n.innerHTML=""):g.type.dom.is(t)?r=t:t&&t[0]&&g.type.dom.is(t[0])&&(r=t[0]),r}},e.arr={is:function(t,e){return"[object Array]"===f.call(t)&&(!e||t.length>0)},mk:function(t,e){return t=g.type.list.is(t)?Array.prototype.slice.call(t):t,g.type.arr.is(t)?t:arguments.length>1?e:[]}},e.list={is:function(t,e){var n=e?/^\[object (HTMLCollection|NodeList|Arguments|Object)\]$/:/^\[object (HTMLCollection|NodeList|Arguments)\]$/;return g.type.obj.is(t)&&g.type.num.is(t.length)&&n.test(Object.prototype.toString.call(t))}},e.obj={is:function(t,e){var n,r=e&&e===Object(e)?e:{},i=r.requiredKeys,o=!!r.nonEmpty,s=!!r.allowFn,a=!(!t||t!==Object(t)||!s&&g.type.fn.is(t));if(a&&(a=!o||0!==Object.getOwnPropertyNames(t).length)&&i)for(n=0;n<i.length;n++)if(!t.hasOwnProperty(i[0])){a=!1;break}return a},mk:function(t,e){return g.type.fn.is(t)&&g.type.obj.is(t,{nonEmpty:!0,allowFn:!0})||g.type.obj.is(t)?t:arguments.length>1?e:{}}},e.symbol=r={is:function(t){return r.exists()&&"symbol"==typeof t},exists:function(){return g.type.fn.is(a.Symbol)},mk:function(t,e){return g.type.symbol.is(t)?t:1===arguments.length?a.Symbol():e}},e.ish=h,h.is=function(t){return 0===arguments.length||t===g},e}(),g.resolve=function(){var e,n,r,i,o,s,a,u,c={allowFn:!0},l=arguments;if(!0===l[0]?(u=!0,i=l[1],r=l[2],l.length>3&&(a=!0,n=l[3])):(u=!1,i=l[0],r=l[1],l.length>2&&(a=!0,n=l[2])),(e=g.type.obj.is(i,c)?i:t)&&(g.type.str.is(r)||g.type.arr.is(r,!0)&&g.type.str.is(r[0]))){for(o=g.type.arr.is(r)?r:r.split("."),s=0;s<o.length;s++)if(g.type.obj.is(e,c))if(o[s]in e)e=(i=e)[o[s]];else{if(!u){e=t;break}e=(i=e)[o[s]]={}}else if(u)i[o[s]]=e={};else if(s<o.length-1){e=t;break}a&&e&&(i[o[o.length-1]]=e=n)}return e},g.extend=function(){var t,e,n,r,i,o,s=arguments,a=g.type.bool.is(s[0]);for(a||g.type.num.is(s[0])?(r=a?-1:g.type.int.mk(s[0]),t=s[1],i=2):(r=0,t=s[0],i=1),t=g.type.obj.is(t,{allowFn:!0})?t:Object(t);i<s.length;i++)for(n in e=s[i])if(Object.prototype.hasOwnProperty.call(e,n))if(g.type.arr.is(e[n]))for(t[n]=[],o=0;o<e[n].length;o++)t[n].push(0!==r&&g.type.obj.is(e[n][o])?g.extend(r-1,{},e[n][o]):e[n][o]);else t[n]=g.type.obj.is(e[n])&&!g.type.dom.is(e[n])&&t[n]!==e[n]?g.extend(0!==r&&r-1,t[n],e[n]):e[n];return t},g.oop=function(){var t={i:[],p:[]},e={n:[],d:[]},n={partial:function(e,n){var i=t.i.indexOf(e),o=-1===i?{}:t.p[i],s={allowFn:!0};if(!g.type.obj.is(e,s)||!g.type.obj.is(n,s))throw"ish.oop.partial: Object or function required for `vTarget` and `vPartial`.";r(e,o),g.extend(e,g.type.fn.is(n)?n.apply(o,[o]):n)},protected:function(t,e){r(t,e)}};function r(n,r,i){var o,s,a=t.i.indexOf(n);for(r=g.type.obj.mk(r),i=g.type.obj.mk(i),-1===a?(t.i.push(n),t.p.push(r),o=function(n){t[n].push(i[n]||e.d[n])}):(t.p[a]=r,o=function(e){i.hasOwnProperty(e)&&(t[e][a]=i[e])}),s=0;s<e.n.length;s++)o(e.n[s])}return r(n,{oopData:t,addOopDataType:function(n,r){var i=e.n.indexOf(n),o=-1===i&&"i"!==n&&"p"!==n;if(o)for(e.n.push(n),e.d.push(r),t[n]=[],i=0;i<t.i.length;i++)t[n].push(r);return o},setOopEntry:r}),n}(),g.oop.partial(g.type,function(){function e(e,n,r){var i,o=!0;function s(e,n,r){var i,o,s,a=!1;for(g.type.arr.is(n)?i=n:g.type.obj.is(n)&&(i=Object.keys(n),a=!0),s=0;s<i.length;s++)o=i[s],a&&e.hasOwnProperty(o)&&(e[n[o]]=e[o]),r?e[o]=t:delete e[o]}if(g.type.arr.is(e,!0))for(i=0;i<e.length;i++)s(e[i],n,r);else g.type.obj.is(e)?s(e,n,r):o=!1;return o}return this.processObj=e,{is:{val:function(e){return e!==t&&e!==l},true:function(t){return!0===t||"true"===(t+"").trim().toLowerCase()}},arr:{rm:function(t,e,n){var r,i,o,s=-1,a=3===arguments.length,u=g.type.arr.is(e)?e:[e],c=!1;if(g.type.arr.is(t,!0))for(a&&(s=(r=g.type.arr.is(n)?n:[n]).length),o=0;o<u.length;o++)(i=t.indexOf(u[o]))>-1&&(c=!0,a&&o<s?t[i]=r[o]:t.splice(i,1));return c},of:function(t,e){var n,r=g.type.arr.is(t,!0)&&g.type.fn.is(e);if(r)for(n=0;n<t.length;n++)if(!e(t[n])){r=!1;break}return r}},obj:{rm:function(t,n,r){var i;return g.type.str.is(n,!0)&&(n=[n]),(i=g.type.arr.is(n,!0))&&(i=e(t,n,r)),i},ownKeys:function(t){var e,n;if(g.type.obj.is(t))for(e=(n=Object.keys(t)).length;e>0;e--)t.hasOwnProperty(n[e])||n.splice(e,1);return n},get:function(t,e){var n,r;if(g.type.obj.is(t))for(n in e=g.type.str.mk(e).toLowerCase(),t)if(n.toLowerCase()===e){r=t[n];break}return r}},fn:function(){function e(e){return g.type.arr.mk(e,e===t?[]:[e])}function n(e,n,r,i){return g.extend({context:e},r,n,i!==t&&g.type.obj.is(n)?{wait:g.type.int.mk(n.wait,i)}:l)}return{convert:e,noop:b,call:function(t,n,r){var i;if(g.type.fn.is(t))switch(arguments.length){case 1:i=t();break;case 2:i=t.apply(n);break;default:i=t.apply(n,e(r))}return i},once:function(r,i){var o;return i=n(this,i,{rereturn:!0}),function(){return g.type.fn.is(r)&&(o=r.apply(i.context,e(arguments)),r=l),i.rereturn?o:t}},tryCatch:function(t,r){var i;return r=n(this,r,{returnObj:!1}),i={result:r.default,error:l},function(){try{i.result=t.apply(r.context,e(arguments))}catch(t){i.error=t}return r.returnObj?i:i.result}},throttle:function(t,r){var i,o,s,a=l,u=0,c=function(){u=!1===r.leading?0:d(),a=l,s=t.apply(i,o),a||(i=o=l)};return r=n(this,r,{leading:!0,trailing:!1},500),function(){var n,p=d();return u||!1!==r.leading||(u=p),n=r.wait-(p-u),i=r.context,o=e(arguments),n<=0||n>r.wait?(a&&(clearTimeout(a),a=l),u=p,s=t.apply(i,o),a||(i=o=l)):a||!1===r.trailing||(a=setTimeout(c,n)),s}},debounce:function(t,r){var i,o,s,a,u,c=function(){var e=d()-a;e<r.wait&&e>=0?i=setTimeout(c,r.wait-e):(i=l,r.immediate||(u=t.apply(s,o),i||(s=o=l)))};return r=n(this,r,{immediate:!1},500),function(){var n=r.immediate&&!i;return s=r.context,o=e(arguments),a=d(),i||(i=setTimeout(c,r.wait)),n&&(u=t.apply(s,o),s=o=l),u}},poll:function(t,r){var i,o;return(r=n(this,r,{},100)).timeout=g.type.int.mk(r.timeout,2e3),function(){i=e(arguments),o=Date.now()+r.timeout,function e(){g.type.fn.call(t,r.context,i)?g.type.fn.call(r.onsuccess,r.context,i):Date.now()<o?setTimeout(e,r.wait):g.type.fn.call(r.onfailure,r.context,i)}()}}}}()}}),g.io={console:function(){function t(t,e){g.type.fn.call(g.resolve(a,["console",t]),l,e)}return{log:function(){t("log",arguments)},warn:function(){t("warn",arguments)},error:function(){t("error",arguments)}}}(),event:function(){var t={};function e(e,n){return g.type.arr.rm(t[e],n)}function n(e,n){var i,o=t[e],s=g.type.arr.is(o,!0);for(s||(o=t[e]=[]),o.last=n,i=0;i<o.length;i++)i+=r(e,o[i],n);return o.fired=!0,s}function r(t,n,r){var i=0;return e===g.type.fn.call(n,this,r)&&(e(t,n),i--),i}return g.extend(n,{fire:n,unwatch:e,registered:function(){return g.type.obj.ownKeys(t)},fired:function(e){return!0===g.resolve(t,[e,"fired"])},watch:function(e,n){var i=g.type.fn.is(n);return n&&((t[e]=t[e]||[]).push(n),t[e].fired&&r(e,n,t[e].last)),i}})}()},g.require=function(t){var e={onerror:function(t){var e=g.type.json.mk(t.getAttribute("config"));g.io.console.error("Unable to include `"+e.src+"`.")},waitSeconds:7};function n(t,n,r){var i,o,s,a=[],p=t.length,f=!0;function y(t){var e=u.createElement("script"),s=function(){f=!1,d(!0)},y=setTimeout(s,1e3*r.waitSeconds),d=function(t){clearTimeout(y),a.push({dom:e,loaded:!0!==t}),!0===t&&g.type.fn.call(r.onerror,l,[e]),--p<1&&g.type.fn.call(n,l,[a,f])};e.onload=d,e.onerror=s,e.onreadystatechange=e.readyState?function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=l,d())}:l,e.setAttribute("config",JSON.stringify({src:t,baseUrl:i,urlArgs:o})),e.setAttribute("type","text/javascript"),e.setAttribute("src",i+t+o),c.appendChild(e),g.type.fn.call(r.onappend,l,[e])}if(r=g.extend({},e,r),i=r.baseUrl||"",o=r.urlArgs||"",g.type.arr.is(t))for(s=0;s<t.length;s++)y(t[s])}return n.config=function(t){return g.extend(e,t)},t=g.type.fn.mk(t,n),g.extend(h,{import:function(t,e){var n,r=[];if(g.type.arr.is(t,!0)){for(n=0;n<t.length;n++)r.push(t[n]+".js");e=g.extend({},h.options.plugins,e),g.require.config({waitSeconds:7,baseUrl:e.baseUrl,urlArgs:!1===e.cache?"?nocache="+Date.now():"",onappend:function(t){t.setAttribute("importedBy",e.importedBy||"type.ish.import")}}),g.require.queue(r,function(t){!1!==g.type.fn.mk(e.callback)(t)&&g.io.event.fire("ish.pluginsLoaded",t)})}},prereqs:function(t,e,n){var r,i=[],o=g.type.obj.ownKeys(e);if(g.type.arr.is(o,!0)){for(r=0;r<o.length;r++)e[o[r]]&&i.push(o[r]+".js");i.length>0&&g.require(i,function(){},g.extend({onerror:function(e){g.io.console.error(t+": Unable to load '"+e.src+"'.")}},g.type.ish.options.plugins,n))}}}),g.extend(t,{lite:t===n,queue:function(e,n){var r,i=0,o=g.type.int.mk(g.resolve(e,"length"),0),s=o>0,a=[];function u(e){g.type.fn.call(n,l,t.lite?[a,s]:e)}s?function n(){r=e[i++],t(g.type.arr.mk(r,[r]),function(e,r){t.lite&&(a.push({dom:e,loaded:r}),!1===r&&(s=!1)),i<o?n():u(arguments)})}():u()},link:function(t,e,n,r){var i,o,s=g.type.arr.mk(t,[t]);for(o=0;o<s.length;o++)i=y("link[href='"+s[o]+"']"),g.type.dom.is(i)||((i=document.createElement("link")).rel=e||"",i.type=n||"",i.href=s[o],i.media=r||"",c.appendChild(i))},css:function(t,e){g.require.link(t,"stylesheet","text/css",e||"all")},wrapper:function(t,e,n){var r,i=[],o=[],s=[];if(n=g.type.obj.mk(n),g.type.arr.is(t)){for(r=0;r<t.length;r++)switch(g.type.str.mk(t[r]).match(/\.([^\./\?\#]+)($|\?|\#)/)[1].toLowerCase()){case"js":i.push(t[r]);break;case"css":o.push(t[r]);break;default:s.push(t[r])}g.require(i,function(){g.require.css(o),g.require.link(s,n.rel,n.type,n.media),g.type.fn.call(e,null,arguments)},n)}}})}(a.require),g.ui={scrollTo:function(t,e){var n=g.type.dom.mk(t,null),r=null!==n,i=function(r){var o=parseInt(.2*n.getBoundingClientRect().top);u.body.scrollTop+=o,u.documentElement.scrollTop+=o,!r||r>Math.abs(o)?setTimeout(function(){i(Math.abs(o))},20):e&&g.type.str.is(t)&&(location.hash="#"+t)};return r&&i(),r},clearSelection:function(){a.getSelection?a.getSelection().removeAllRanges():u.selection&&u.selection.empty()}},g.lib=g.extend(m(),{sync:g.extend(function(t,n){var r=g.type.fn.is(t)&&g.type.fn.is(e),i=function(){var i=e(t);return n.asResult?i:r};return n=g.type.obj.mk(n),r?n.asFn?i:i():r},{register:function(t){var n=g.type.fn.is(t);return n&&(e=t),n}})}),g.app=m(),r=h.options,i=r.target,o=p||y("SCRIPT["+i+"]"),s=u.getElementsByTagName("HTML")[0],g.type.ish.script=o,o&&(n=o.getAttribute(i),g.type.json.is(n)?g.extend(r,g.type.json.mk(n)):g.type.str.is(n,!0)&&g.extend(r,g.resolve(a,n)),n=r.plugins.baseUrl||o.src,r.plugins.baseUrl=n.substr(0,n.lastIndexOf("/")+1),g.type.ish.import(r.plugins.import,g.extend({importedBy:"SCRIPT["+i+"]"},r.plugins)),i=r.target),g.type.str.is(i,!0)&&(g.extend(g,g.resolve(!0,a,i)),g.resolve(a,i,g)),g.type.dom.is(s)&&(s.ish=g)}();
