/* Class: ish; By: Nick Campbell; License: MIT; Keep this line or you violate the copyright! */
!function(){"use strict";var f,a=window,y=document,d=y.head,m=null,s=y.currentScript,r=Object.prototype.toString,h=y.querySelector.bind(y),b=Date.now,u={ver:"0.10.2018-09-07",options:{target:"ish",plugins:{}},expectedErrorHandler:function(){}},t=function(){return{data:{},options:{},ui:{}}},g={};function o(){}g.type=function(){function t(t,e){var n,r,i;if(e=g.type.arr.mk(e,g.type.options.typeOrder),g.type.arr.is(e,!0))for(r=0;r<e.length;r++)if((n=(g.type[e[r]]||{}).is||g.type.fn.mk(e[r]))(t)){i=n;break}return i}var n,s,e;return t.options={typeOrder:["bool","int","float","date","json","str","fn","dom","arr","list","obj","symbol"]},t.is=function(t,e){try{return t instanceof e}catch(t){return!1}},t.bool={is:function(t){return"[object Boolean]"===r.call(t)},mk:function(t,e){var n=!!t;return 1<arguments.length&&(n=g.type.bool.is(t)?t:g.type.str.is(t)?"true"===(t=t.trim().toLowerCase())||"false"!==t&&e:e),n}},t.int={is:function(t){var e=g.type.float.mk(t);return g.type.num.is(t)&&e%1==0},mk:function(t,e,n){var r=parseInt(t,1<n&&n<37?n:10);return isNaN(r)?1<arguments.length?e:0:r}},t.float={is:function(t){var e=g.type.float.mk(t);return g.type.num.is(t)&&e%1!=0},mk:function(t,e){var n=parseFloat(t,10);return isNaN(n)?1<arguments.length?e:0:n}},t.num={is:function(t){return/^[-0-9]?[0-9]*(\.[0-9]{1,})?$/.test(t)&&!isNaN(parseFloat(t))&&isFinite(t)}},t.date={is:function(t){var e=new Date(t);return t&&"[object Date]"===r.call(e)&&!isNaN(e.valueOf())},mk:function(t,e){return g.type.date.is(t)?new Date(t):1<arguments.length?new Date(e):new Date}},t.selector={is:(n=document.createElement("br"),function(t){var e=!1;try{n.querySelector(t),e=!0}catch(t){u.expectedErrorHandler(t)}return e})},t.json={is:function(t){try{return JSON.parse(t),!0}catch(t){return!1}},mk:function(t,e){var n=1<arguments.length?e:{};if(g.type.str.is(t,!0))try{n=JSON.parse(t)}catch(t){u.expectedErrorHandler(t)}else if(g.type.obj.is(t))try{n=JSON.stringify(t)}catch(t){u.expectedErrorHandler(t)}return n}},t.str={is:function(t,e,n){return!(!("string"==typeof t||t instanceof String)||e&&""===t||n&&""===g.type.str.mk(t).trim())},mk:function(t,e){var n=t+"";return t&&n?n:1<arguments.length?e:""}},t.fn={is:function(t){return"[object Function]"===r.call(t)},mk:function(t,e){var n,r=g.resolve||function(t,e){return t[e]},i=1<arguments.length?e:o;return g.type.fn.is(t)?i=t:(n=g.type.str.is(t)||g.type.arr.is(t)?r(a,t):f,g.type.fn.is(n)&&(i=n)),i}},t.dom=((s={_:[1,"<div>","</div>"],option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],body:[0,"",""]}).optgroup=s.option,s.th=s.td,s.tbody=s.tfoot=s.colgroup=s.caption=s.thead,{is:function(t,e){return(t=e&&g.type.str.is(t,!0)?h(t)||y.getElementById(t):t)&&g.type.str.is(t.tagName)&&""!==t.tagName&&g.type.fn.is(t.getAttribute)},mk:function(t,e){var n=y.createElement("div"),r=1<arguments.length?e:n;return g.type.str.is(t,!0)?(t=t.trim(),g.type.selector.is(t)?r=h(t)||y.getElementById(t)||r:(n.innerHTML=t,n.childNodes.length<=2&&3!==n.childNodes[0].nodeType?r=n.childNodes[0]:n.innerHTML="")):g.type.dom.is(t)?r=t:t&&t[0]&&g.type.dom.is(t[0])&&(r=t[0]),r},parse:function(t,e){var n,r,i,o,a;if(t=g.type.str.mk(t).trim(),i=g.type.str.mk((/<([^\/!]\w*)[\s\S]*?>/g.exec(t)||{})[1]).toLowerCase(),r=s[i]||s._,o="body"===i,(n=y.createElement(o?"html":"div")).innerHTML=r[1]+t+r[2],o)n=[n.querySelector(i)];else{for(a=r[0];a--;)n=n.children[0];n=e?[n.children[0]]:g.type.arr.mk(n.childNodes)}return e?n[0]:n}}),t.arr={is:function(t,e){return"[object Array]"===r.call(t)&&(!e||0<t.length)},mk:function(t,e){return t=g.type.list.is(t)?Array.prototype.slice.call(t):t,g.type.arr.is(t)?t:1<arguments.length?e:[]}},t.list={is:function(t,e){var n=e?/^\[object (HTMLCollection|NodeList|Arguments|Object)\]$/:/^\[object (HTMLCollection|NodeList|Arguments)\]$/;return g.type.obj.is(t)&&g.type.num.is(t.length)&&n.test(Object.prototype.toString.call(t))}},t.obj={is:function(t,e){var n,r=e&&e===Object(e)?e:{},i=r.requiredKeys,o=!0===e||!!r.nonEmpty,a=!!r.allowFn,s=!(!t||t!==Object(t)||!a&&g.type.fn.is(t));if(s&&(s=!o||0!==Object.getOwnPropertyNames(t).length)&&i)for(n=0;n<i.length;n++)if(!t.hasOwnProperty(i[0])){s=!1;break}return s},mk:function(t,e){return g.type.fn.is(t)&&g.type.obj.is(t,{nonEmpty:!0,allowFn:!0})||g.type.obj.is(t)?t:1<arguments.length?e:{}}},t.symbol=e={is:function(t){return e.exists()&&"symbol"==typeof t},exists:function(){return g.type.fn.is(a.Symbol)},mk:function(t,e){return g.type.symbol.is(t)?t:1===arguments.length?a.Symbol():e}},(t.ish=u).is=function(t){return 0===arguments.length||t===g},t}(),g.resolve=function(){var t,e,n,r,i,o,a,s,u=!0,l={allowFn:!0},c=arguments;if(!0===c[0]?(s=!0,r=c[1],n=c[2],3<c.length&&(a=!0,e=c[3])):(s=!1,r=c[0],n=c[1],2<c.length&&(a=!0,e=c[2])),(t=g.type.obj.is(r,l)?r:f)&&(g.type.str.is(n)||g.type.arr.is(n,!0)&&g.type.str.is(n[0]))){for(i=g.type.arr.is(n)?n:n.split("."),o=0;o<i.length;o++)if(g.type.obj.is(t,l))if(i[o]in t)t=(r=t)[i[o]];else{if(!s){t=f,u=!1;break}t=(r=t)[i[o]]={}}else if(s||a&&o===i.length-1)r[i[o]]=t={};else if(o<i.length-1){t=f,u=!1;break}a&&u&&(r[i[i.length-1]]=t=e)}return t},g.extend=function(){var t,e,n,r,i,o,a=arguments,s=g.type.bool.is(a[0]);for(s||g.type.num.is(a[0])?(r=s?-1:g.type.int.mk(a[0]),t=a[1],i=2):(t=a[r=0],i=1),t=g.type.obj.is(t,{allowFn:!0})?t:Object(t);i<a.length;i++)for(n in e=a[i])if(Object.prototype.hasOwnProperty.call(e,n))if(g.type.arr.is(e[n]))for(t[n]=[],o=0;o<e[n].length;o++)t[n].push(0!==r&&g.type.obj.is(e[n][o])?g.extend(r-1,{},e[n][o]):e[n][o]);else t[n]=g.type.obj.is(e[n])&&!g.type.dom.is(e[n])&&t[n]!==e[n]?g.extend(0!==r&&r-1,t[n],e[n]):e[n];return t},g.oop=function(){var a={i:[],p:[]},s={n:[],d:[]},t={partial:function(t,e){var n=a.i.indexOf(t),r=-1===n?{}:a.p[n],i={allowFn:!0};if(!g.type.obj.is(t,i)||!g.type.obj.is(e,i))throw"ish.oop.partial: Object or function required for `vTarget` and `vPartial`.";o(t,r),g.extend(t,g.type.fn.is(e)?e.apply(r,[r]):e)},protected:function(t,e){o(t,e)}};function o(t,e,n){var r,i,o=a.i.indexOf(t);for(e=g.type.obj.mk(e),n=g.type.obj.mk(n),-1===o?(a.i.push(t),a.p.push(e),r=function(t){a[t].push(n[t]||s.d[t])}):(a.p[o]=e,r=function(t){n.hasOwnProperty(t)&&(a[t][o]=n[t])}),i=0;i<s.n.length;i++)r(s.n[i])}return o(t,{oopData:a,addOopDataType:function(t,e){var n=s.n.indexOf(t),r=-1===n&&"i"!==t&&"p"!==t;if(r)for(s.n.push(t),s.d.push(e),a[t]=[],n=0;n<a.i.length;n++)a[t].push(e);return r},setOopEntry:o}),t}(),g.oop.partial(g.type,function(){function i(t,e,n){var r,i=!0;function o(t,e,n){var r,i,o,a=!1;for(g.type.arr.is(e)?r=e:g.type.obj.is(e)&&(r=Object.keys(e),a=!0),o=0;o<r.length;o++)i=r[o],a&&t.hasOwnProperty(i)&&(t[e[i]]=t[i]),n?t[i]=f:delete t[i]}if(g.type.arr.is(t,!0))for(r=0;r<t.length;r++)o(t[r],e,n);else g.type.obj.is(t)?o(t,e,n):i=!1;return i}return this.processObj=i,{is:{val:function(t){return t!==f&&t!==m},true:function(t){return!0===t||"true"===(t+"").trim().toLowerCase()}},date:{timestamp:function(){var t=a.performance,e=g.resolve(t,"timing");return t&&t.now&&e&&e.navigationStart?t.now()+e.navigationStart:b()}},arr:{rm:function(t,e,n){var r,i,o,a=-1,s=3===arguments.length,u=g.type.arr.is(e)?e:[e],l=!1;if(g.type.arr.is(t,!0))for(s&&(a=(r=g.type.arr.is(n)?n:[n]).length),o=0;o<u.length;o++)-1<(i=t.indexOf(u[o]))&&(l=!0,s&&o<a?t[i]=r[o]:t.splice(i,1));return l},of:function(t,e){var n,r=g.type.arr.is(t,!0)&&g.type.fn.is(e);if(r)for(n=0;n<t.length;n++)if(!e(t[n])){r=!1;break}return r}},obj:{rm:function(t,e,n){var r;return g.type.str.is(e,!0)&&(e=[e]),(r=g.type.arr.is(e,!0))&&(r=i(t,e,n)),r},ownKeys:function(t){var e,n;if(g.type.obj.is(t))for(e=(n=Object.keys(t)).length;0<e;e--)t.hasOwnProperty(n[e])||n.splice(e,1);return n},get:function(t,e){var n,r;if(g.type.obj.is(t))for(n in e=g.type.str.mk(e).toLowerCase(),t)if(n.toLowerCase()===e){r=t[n];break}return r}},fn:function(){function c(t){return g.type.arr.mk(t,t===f?[]:[t])}function p(t,e,n,r){return g.extend({context:t},n,e,r!==f&&g.type.obj.is(e)?{wait:g.type.int.mk(e.wait,r)}:m)}return{convert:c,noop:o,call:function(t,e,n){var r;if(g.type.fn.is(t))switch(arguments.length){case 1:r=t();break;case 2:r=t.apply(e);break;default:r=t.apply(e||g.resolve(n,"this"),c(n))}return r},once:function(t,e){var n;return e=p(this,e,{rereturn:!0}),function(){return g.type.fn.is(t)&&(n=t.apply(e.context,c(arguments)),t=m),e.rereturn?n:f}},tryCatch:function(t,e){var n;return e=p(this,e,{returnObj:!1}),n={result:e.default,error:m},function(){try{n.result=t.apply(e.context,c(arguments))}catch(t){n.error=t}return e.returnObj?n:n.result}},throttle:function(n,r){var i,o,a,s=m,u=0,l=function(){u=!1===r.leading?0:b(),s=m,a=n.apply(i,o),s||(i=o=m)};return r=p(this,r,{leading:!0,trailing:!1},500),function(){var t,e=b();return u||!1!==r.leading||(u=e),t=r.wait-(e-u),i=r.context,o=c(arguments),t<=0||t>r.wait?(s&&(clearTimeout(s),s=m),u=e,a=n.apply(i,o),s||(i=o=m)):s||!1===r.trailing||(s=setTimeout(l,t)),a}},debounce:function(e,n){var r,i,o,a,s,u=function(){var t=b()-a;t<n.wait&&0<=t?r=setTimeout(u,n.wait-t):(r=m,n.immediate||(s=e.apply(o,i),r||(o=i=m)))};return n=p(this,n,{immediate:!1},500),function(){var t=n.immediate&&!r;return o=n.context,i=c(arguments),a=b(),r||(r=setTimeout(u,n.wait)),t&&(s=e.apply(o,i),o=i=m),s}},poll:function(e,n){var r,i;return(n=p(this,n,{},100)).timeout=g.type.int.mk(n.timeout,2e3),function(){r=c(arguments),i=Date.now()+n.timeout,function t(){g.type.fn.call(e,n.context,r)?g.type.fn.call(n.onsuccess,n.context,r):Date.now()<i?setTimeout(t,n.wait):g.type.fn.call(n.onfailure,n.context,r)}()}}}}()}}),g.io={console:function(){function t(t,e){g.type.fn.call(g.resolve(a,["console",t]),m,e)}return{log:function(){t("log",arguments)},warn:function(){t("warn",arguments)},error:function(){t("error",arguments)}}}(),event:function(){var o={};function i(t,e){return g.type.arr.rm(o[t],e)}function t(t,e){var n,r=o[t],i=g.type.arr.is(r,!0);for(i||(r=o[t]=[]),r.last=e,n=0;n<r.length;n++)n+=a(t,r[n],e);return r.fired=!0,i}function a(t,e,n){var r=0;return i===g.type.fn.call(e,f,n)&&(i(t,e),r--),r}return g.extend(t,{fire:t,unwatch:i,registered:function(){return g.type.obj.ownKeys(o)},fired:function(t){return!0===g.resolve(o,[t,"fired"])},watch:function(t,e){var n=g.type.fn.is(e);return e&&((o[t]=o[t]||[]).push(e),o[t].fired&&a(t,e,o[t].last)),n}})}()},g.require=function(c){var l={onerror:function(t){var e=g.type.json.mk(t.getAttribute("config"));g.io.console.error("Unable to include `"+e.src+"`.")},waitSeconds:7,baseUrl:"",urlArgs:""};function p(t,r,i){var o=[],a=!0,s=t.length;function u(t,e,n){o.push({dom:t,loaded:!0!==e,timedout:!(!e||!n)}),e&&g.type.fn.call(i.onerror,m,[t]),--s<1&&g.type.fn.call(r,m,[o,a])}return s<1&&g.type.fn.call(r,m,[o,a]),function(e,t){var n,r={onerror:function(t){u(e,!(a=!1),t)},onload:function(){clearTimeout(n),u(e)}};return t?u(e):(n=setTimeout(function(){r.onerror(!0)},1e3*i.waitSeconds),e.onload=r.onload,e.onerror=r.onerror),r}}function t(t,e,n){var r,i,o,a,s=function(t){return function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=m,t.onload())}},u=g.type.arr.is(t)?t:[t];for(i=p(u,e,n=g.extend({},l,n)),a=0;a<u.length;a++)o=n.baseUrl+u[a]+n.urlArgs,r=h("script[src='"+o+"']"),g.type.dom.is(r)?i(r,!0).onload():(i(r=y.createElement("script")),r.onreadystatechange=r.readyState?s(r):m,r.setAttribute("type","text/javascript"),r.setAttribute("src",o),d.appendChild(r),g.type.fn.call(n.onappend,m,[r]))}return t.config=function(t){return g.extend(l,t)},c=g.type.fn.mk(c,t),g.extend(u,{import:function(t,e){var n,r=[];if(g.type.arr.is(t,!0)){for(n=0;n<t.length;n++)r.push(t[n]+".js");e=g.extend({},u.options.plugins,e),g.require.config({waitSeconds:7,baseUrl:e.baseUrl,urlArgs:!1===e.cache?"?nocache="+Date.now():"",onappend:function(t){t.setAttribute("importedBy",e.importedBy||"type.is.ish.import")}}),g.require.queue(r,function(t){!1!==g.type.fn.mk(e.callback)(t)&&g.io.event.fire("ish.pluginsLoaded",t)})}},prereqs:function(e,t,n){var r,i=[],o=g.type.obj.ownKeys(t);if(g.type.arr.is(o,!0)){for(r=0;r<o.length;r++)t[o[r]]&&i.push(o[r]+".js");0<i.length&&g.require.scripts(i,function(){},g.extend({onerror:function(t){g.io.console.error(e+": Unable to load '"+t.src+"'.")}},g.type.is.ish.options.plugins,n))}}}),g.extend(function(t,n,e){var r,i=!0,o=g.type.arr.is(t)?t:[t],a=[],s=[],u=[],l=function(t,e){g.type.arr.is(t,!0)&&(o=o.concat(t),i=i&&e),--r<1&&g.type.fn.call(n,m,[o,i])};for(r=0;r<o.length;r++)switch(g.type.str.mk(o[r]).match(/\.([^\./\?\#]+)($|\?|\#)/)[1].toLowerCase()){case"js":a.push(o[r]);break;case"css":s.push(o[r]);break;default:u.push(o[r])}o=[],r=0,g.type.arr.is(a,!0)&&(r++,c(a,l,e)),g.type.arr.is(s,!0)&&(r++,g.require.css(s,l,e)),g.type.arr.is(u,!0)&&(r++,g.require.link(u,l,e)),r<1&&l()},{scripts:c,config:t.config,lite:c===t,queue:function(t,e){var r,i=0,o=g.type.int.mk(g.resolve(t,"length"),0),a=0<o,s=[];function u(t){g.type.fn.call(e,m,c.lite?[s,a]:t)}a?function n(){r=t[i++],c(g.type.arr.mk(r,[r]),function(t,e){c.lite&&(s.push({dom:t,loaded:e}),!1===e&&(a=!1)),i<o?n():u(arguments)})}():u()},link:function(t,e,n){var r,i,o,a,s,u=g.type.arr.is(t)?t:[t];for(i=p(u,e,n=g.extend({rel:"",type:"",media:""},l,n)),s=0;s<u.length;s++)(a=g.type.obj.mk(u[s],{href:u[s]})).href=n.baseUrl+a.href+n.urlArgs,r=h("link[href='"+a.href+"']"),g.type.dom.is(r)?i(r,!0).onload():(o=i(r=y.createElement("link")),"onload"in r||(o.i=document.createElement("img"),o.i.onerror=o.onload,o.i.src=a.href),r.rel=a.rel||n.rel,r.type=a.type||n.type,r.href=a.href,r.media=a.media||n.media,d.appendChild(r),g.type.fn.call(n.onappend,m,[r]))},css:function(t,e,n){g.require.link(t,e,g.extend({rel:"stylesheet",type:"text/css",media:"all"},n))}})}(a.require),g.ui={scrollTo:function(n,r){var i=g.type.dom.mk(n,null),t=null!==i,o=function(t){var e=parseInt(.2*i.getBoundingClientRect().top);y.body.scrollTop+=e,y.documentElement.scrollTop+=e,!t||t>Math.abs(e)?setTimeout(function(){o(Math.abs(e))},20):r&&g.type.str.is(n)&&(location.hash="#"+n)};return t&&o(),t},clearSelection:function(){a.getSelection?a.getSelection().removeAllRanges():y.selection&&y.selection.empty()}},g.lib=function(){var i,r;function e(t,e){var n=g.type.fn.is(t);return n&&(e?i=t:r=t),n}return g.extend(t(),{ui:{sync:g.extend(function(n,r){function t(){var t=g.type.fn.is(n)&&g.type.fn.is(i),e=t?g.type.fn.call(i,m,[n]):m;return t&&r.asResult?e:t}return r=g.type.obj.mk(r),0===arguments.length?g.type.fn.is(i):r.asFn?t:t()},{register:function(t){return e(t,!0)}}),bind:g.extend(function(t,e){return 0===arguments.length?g.type.fn.is(r):g.type.fn.call(r,m,[t,e])},{register:function(t){return e(t)}})}})}(),g.app=t(),function(){var e,t=!1,n=u.options,r=n.target,i=s||h("SCRIPT["+r+"]");function o(t){t&&(e=n.plugins.baseUrl||i.src,n.plugins.baseUrl=e.substr(0,e.lastIndexOf("/")+1),g.type.is.ish.import(n.plugins.import,g.extend({importedBy:"SCRIPT["+r+"]"},n.plugins)),r=n.target),g.type.bool.is(t)&&g.type.str.is(r,!0)&&(g.extend(g,g.resolve(!0,a,r)),g.resolve(a,r,g))}i&&i.hasAttribute(r)?(e=i.getAttribute(r),g.type.str.is(e,!0)&&(g.type.json.is(e)?(g.extend(n,g.type.json.mk(e)),t=!0):g.type.obj.is(g.resolve(a,e))?(g.extend(n,g.resolve(a,e)),t=!0):(t=m,g.io.net.get(e,function(t,e){g.extend(n,t?e.data:m),o(t)})))):(i||(i=y.createElement("SCRIPT"),d.appendChild(i)),i.setAttribute(r,"")),i[r]=g,o(t)}()}();
