/*
Vanilla++ Javascript Functionality (Neapolitan)
By: Nick Campbell
License: MIT
*/
!function(e){"use strict";var t={$ver:"2016-06-04"},n=Object.prototype.toString;!function(){var e={$keys:[]};t.cookie=function(n,r,a){function i(){var e,t,r=document.cookie.split(";");for(e=0;e<r.length;e++)if(t=r[e].indexOf("="),n===r[e].substr(0,t).replace(/^\s+|\s+$/g,"")){s.original=unescape(r[e].substr(t+1));try{o=s.original?JSON.parse(s.original):{}}catch(a){o={}}return!0}return!1}var o,s={name:n,original:null,string:function(){return JSON.stringify(s.data)},data:null,isNew:!0,set:function(e,t,a){var i;return void 0===e&&(e=1008e4),e>0&&(i=new Date,i.setSeconds(i.getSeconds()+e)),t=t||"/",r.maxAge=e,r.path=t,r.domain=a,document.cookie=n+"="+escape(s.string())+"; path="+t+(e>0?"; max-age="+e:"")+(i?"; expires="+i.toUTCString():"")+(a?"; domain="+a:"")+"; ",s.isNew=!1,!0},remove:function(){return delete e[n],t.data.array.remove(e.$keys,n),document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path="+(r.path||"/"),!0}};if((r===!0||t.is.obj(r))&&-1===e.$keys.indexOf(n)&&(e.$keys.push(n),e[n]=function(){s.set(r.maxAge,r.path,r.domain)}),r=t.is.obj(r)?r:{},!t.is.str(n)||""===n)throw t.$name+".cookie: A [String] value must be provided for the cookie name.";return i()?s.isNew=!1:t.is.obj(a)&&(o=a),s.data=o,s}}(),!function(){t.console={raise:function(e){throw e},log:function(){try{console.log.apply(this,arguments)}catch(e){}},warn:function(){try{window.console&&t.is.fn(window.console.warn)?window.console.warn.apply(this,arguments):t.console.log.apply(this,arguments)}catch(e){}}}}(),t.fn={call:function(e,n,r){return t.is.fn(e)?e.apply(n||this,t.is.arr(r)?r:[r]):void 0},tryCatch:function(e,n,r,a,i){var o={result:a,error:null};try{o.result=e.apply(n||this,t.is.arr(r)?r:[r])}catch(s){o.error=s}return i?o:o.result},debounce:function(e,t,n){var r;return function(){var a=this,i=arguments,o=function(){r=null,n||e.apply(a,i)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(a,i)}},poll:function(e,t,n,r,a){var i=Number(new Date)+(r||2e3);a=a||100,function o(){e()?t():Number(new Date)<i?setTimeout(o,a):n(new Error("timed out for "+e+": "+arguments))}()},once:function(e,n,r){var a;return function(){return t.is.fn(e)&&(a=e.apply(n||this,t.is.arr(r)?r:[r]),e=null),a}}},t.tools={absoluteUrl:function(){var e=document.createElement("a");return function(t){return e||(e=document.createElement("a")),e.href=t,e.href}}()},t.is={str:function(e,n,r){return!("string"==typeof e||e instanceof String)||n&&""===e||r&&""===t.make.str(e).trim()?!1:!0},date:function(e){var t=new Date(e);return e&&"[object Date]"===n.call(t)&&!isNaN(t.valueOf())?!0:!1},num:function(e){return/^[-0-9]?[0-9]*(\.[0-9]{1,})?$/.test(e)&&!isNaN(parseFloat(e))&&isFinite(e)?!0:!1},"int":function(e){var n=t.make["float"](e);return t.is.num(e)&&n%1===0},"float":function(e){var n=t.make["float"](e);return t.is.num(e)&&n%1!==0},bool:function(e){return"[object Boolean]"===n.call(e)?!0:!1},"true":function(e){return(e===!0?0:"true"!==(e+"").trim().toLowerCase())?!1:!0},fn:function(e){return"[object Function]"===n.call(e)?!0:!1},obj:function(e){var n,r,a=!1,i=e&&e===Object(e)&&!t.is.fn(e)?!0:!1;if(i){if(arguments.length>1)for(r=1;r<arguments.length;r++)t.is["true"](arguments[r])?a=t.is.fn(Object.getOwnPropertyNames):t.is.arr(arguments[r])&&(n=arguments[r]);if(i=a&&0===Object.getOwnPropertyNames(e).length?!1:!0,i&&n)for(r=0;r<n.length;r++)if(!e.hasOwnProperty(n[0])){i=!1;break}}return i},arr:function(e,t){return"[object Array]"===n.call(e)&&(!t||e.length>0)?!0:!1},val:function(e){return void 0!==e&&null!==e?!0:!1},json:function(e){try{return JSON.parse(e),!0}catch(t){return!1}},dom:function(e){return e&&t.is.str(e.tagName)&&""!==e.tagName&&t.is.fn(e.getAttribute)?!0:!1}},t.make={str:function(e,t){var n=e+"";return e&&n?n:arguments.length>1?t:""},date:function(e,n){return t.is.date(e)?new Date(e):arguments.length>1?n:new Date},"int":function(e,t){var n=parseInt(f,10);return isNaN(n)?arguments.length>1?t:0:n},"float":function(e,t){var n=parseFloat(e,10);return isNaN(n)?arguments.length>1?t:0:n},arr:function(e,n){return t.is.arr(e)?e:arguments.length>1?n:[]},obj:function(e,n){return t.is.obj(e)?e:arguments.length>1?n:{}},age:function(e){var n,r=-1;return t.is.date(e)&&(n=new Date(Date.now()-t.make.date(e,null)),r=Math.abs(n.getUTCFullYear()-1970)),r},yyyymmdd:function(e,n){var r=t.make.date(e,arguments.length>1?n:new Date);return t.is.date(r)?r.getFullYear()+"/"+t.make.str(r.getMonth()+1).lPad("0",2)+"/"+t.make.str(r.getDate()).lPad("0",2):""},dateOnly:function(e,n){return t.make.date(t.make.yyyymmdd(e,n))},json:function(e,t){var n=arguments.length>1?t:{};try{n=JSON.parse(e)}catch(r){}return n}},t.eq={date:function(e,n){var r=t.make.date(e,null),a=t.make.date(n,null);return t.is.date(r)&&t.is.date(a)&&a>=r&&r>=a},str:function(e,n,r){return e=t.make.str(e,""),n=t.make.str(n,""),r!==!1?e.toLowerCase()===n.toLowerCase():e===n},num:function(e,n){var r=!1;return t.is.num(e)&&t.is.num(n)&&(r=t.make["float"](e)===t.make["float"](n)),r}},t.cp={date:function(e,n){var r,a=t.make.date(e,null),i=arguments.length<2?new Date:t.make.date(n,null);return t.is.date(a)&&t.is.date(i)&&(r=i>a?-1:a>i?1:0),r},num:function(e,n){var r,a=t.make["float"](e,null),i=t.make["float"](n,null);return t.is.num(a)&&t.is.num(i)&&(r=i>a?-1:a>i?1:0),r},str:function(e,n){var r=0,a=t.make.str(e),i=t.make.str(n);return a===i?r=1:a.trim().toLowerCase()===i.trim().toLowerCase()&&(r=-1),r}},t.data={get:function(e,n){var r,a,i=t.is.obj(e)?e:void 0;if(i&&t.is.str(n))for(r=n.split("."),a=0;a<r.length;a++){if(!(t.is.obj(i)&&r[a]in i)){i=void 0;break}i=i[r[a]]}return i},set:function(e,n,r){function a(e,t){return e[t]=e[t]||{},e[t]}var i,o,s=t.is.obj(e)?e:{},u=s;if(t.is.str(n,!0,!0)){for(i=n.split("."),o=0;o<i.length-1;o++)u=a(u,i[o]);3===arguments.length?u[i[o]]=r:a(u,i[o])}return s},extend:function(){var e,n,r,a,i,o=arguments;for(t.is.bool(o[0])?(a=o[0],e=o[1],i=2):(a=!1,e=o[0],i=1),e=t.is.obj(e)?e:{};i<o.length;i++){n=o[i];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=a&&t.is.obj(n[r])?t.data.extend(!0,{},n[r]):n[r])}return e},getFirstByValue:function(e,n,r,a){var i=t.data.getByValue(e,n,r,a,!0);return i?i.data[0]:void 0},getByValue:function(e,n,r,a,i){var o,s={indexes:[],data:[]};if(t.is.str(e)&&t.is.arr(r,!0))for(o=0;o<r.length&&(!t.eq.str(r[o][e],n,a)||(s.data.push(r[o]),s.indexes.push(o),!i));o++);return t.is.arr(s.data,!0)?s:void 0},getByValues:function(e,n,r,a){var i,o,s,u={indexes:[],data:[]};if(t.is.arr(n,!0))for(i=0;i<n.length;i++)if(s=t.data.getByValue(e,n[i],r,a))for(o=0;o<s.indexes.length;o++)u.indexes.push(s.indexes[o]),u.data.push(s.data[o]);return t.is.arr(u.data,!0)?u:void 0},arr:{remove:function(e,n,r){var a,i=!1;return t.is.arr(e,!0)&&(a=e.indexOf(n),i=a>-1,i&&(3===arguments.length?e[a]=r:e.splice(a,1))),i},removeAll:function(e,n,r){var a,i,o,s=[],u=t.is.arr(n,!0);if(t.is.arr(e,!0))for(a=0;a<e.length;a++)if(u){for(o=!1,i=0;i<n.length;i++)if(t.eq.str(e[a],n[i],r)){o=!0;break}o||s.push(e[a])}else e[a]&&s.push(e[a]);return s}},remove:function(e,n,r){function a(e){var a,i;if(t.is.arr(e,!0)&&t.is.arr(n,!0))for(a=0;a<e.length;a++)for(i=0;i<n.length;i++)r?e[a][n[i]]=void 0:delete e[a][n[i]]}var i;if(t.is.str(n,!0)&&(n=[n]),t.is.arr(e,!0))a(e);else if(t.is.obj(e)&&t.is.arr(e.dimension1)&&t.is.str(e.dimension2,!0))for(i=0;i<e.dimension1.length;i++)a(e.dimension1[i][e.dimension2])}},t.serial={ize:function(e,n){var r,a,i,o,s=encodeURIComponent,u=n===!0?"; ":"&",l="";for(r in e)if(a=e[r],r=s(r.trim()),t.is.val(a))l+=r+"="+u;else if(t.is.obj(a))for(i in a)if(a[i]instanceof Array)for(o=0;o<a[i].length;o++)l+=r+"["+s(i)+"]="+s(a[i][o])+u;else l+=r+"["+s(i)+"]="+s(a[i])+u;else if(Array.isArray(a))for(o=0;o<a.length;o++)l+=r+"="+s(a[o])+u;else t.is.fn(a)||(l+=r+"="+s(a)+u);return l.trim().substr(0,l.length-1)},de:function(e){var n,r,a,i,o,s,u={},l=function(e){return decodeURIComponent(e).replace(/\+/g," ")+""},f=/([^&;=]+)=?([^&;]*)/g;for(i=function(e){for(var n=1,r=arguments.length;r>n;n++)e[e.length]?(t.is.arr(e[e.length])?e[e.length].push(arguments[n]):e[e.length]=new Array(e[e.length],arguments[n]),e.length++):e[e.length++]=arguments[n]};r=f.exec(e);)if(n=r[1].indexOf("["),s=l(r[2]),0>n)a=l(r[1]).trim(),u[a]?u[a]instanceof Array?u[a].push(s):"object"==typeof u[a]?i(u[a],s):u[a]=new Array(u[a],s):u[a]=s?s:null;else{if(a=l(r[1].slice(0,n)).trim(),o=l(r[1].slice(n+1,r[1].indexOf("]",n))).trim(),t.cp.str(o,"length")&&(o=o.toUpperCase(),t.console.warn("'length' is a reserved name and cannot be used as a sub-key. Your sub-key has been changed to 'LENGTH'.")),!t.is.obj(u[a])||t.is.arr(u[a]))if(t.is.arr(u[a])){var c,g=u[a];for(u[a]={length:g.length},c=0;c<g.length;c++)u[a][c]=g[c]}else u[a]={0:u[a],length:1};o?u[a][o]?t.is.arr(u[a][o])?u[a][o].push(s):u[a][o]=new Array(u[a][o],s):u[a][o]=s:i(u[a],s)}return u}},!function(){var e;t.queryString=function(n,r){var a;if(e=e||t.serial.de(window.location.search.substring(1)),0===arguments.length)a=e;else if(r){n=t.make.str(n).toLowerCase();for(var i in e)if(i.toLowerCase()==n){a=e[i];break}}else a=e[n];return a}}(),e=t.is.str(e,!0,!0)?e:"nea",t.$name=e,window[e]=t.extend(t,window[e])}("$z");
